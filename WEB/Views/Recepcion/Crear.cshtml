@model ET.Encabezado_Recepcion
@{
    ViewBag.Title = "Crear";
    Layout = "~/Views/Shared/_Layout.cshtml";

    string dateNow = DateTime.Now.ToString("yyyy-MM-dd");
}


<div class="row bg-light p-3 mt-auto align-items-center text-center">
    <div class="row bg-light p-3 mt-auto align-items-center text-center">
        <div class="col-md-2">
            <a href="@Url.Action("Crear", "Recepcion")" class="btn btn-success">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                     class="bi bi-plus" viewBox="0 0 16 16">
                    <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z" />
                </svg>
                Crear
            </a>
        </div>
        <div class="col-md-2">
            <a href=" @Url.Action("Index", "Recepcion") " class="btn btn-light">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                     class="bi bi-file-earmark-plus" viewBox="0 0 16 16">
                    <path d="M8 6.5a.5.5 0 0 1 .5.5v1.5H10a.5.5 0 0 1 0 1H8.5V11a.5.5 0 0 1-1 0V9.5H6a.5.5 0 0 1 0-1h1.5V7a.5.5 0 0 1 .5-.5z" />
                    <path d="M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z" />
                </svg>
                Lista
            </a>
        </div>

        <div class="col-md-2">
            <button class="btn btn-light disabled" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                     class="bi bi-x" viewBox="0 0 16 16">
                    <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z" />
                </svg>
                Eliminar
            </button>
        </div>

        <div class="col-md-2 col-md-offset-2">
            <button type="button" class="btn btn-danger">Cerrar Sesion</button>
        </div>
    </div>
</div>

<div class="row p-3">

    <div class="row">

        <h2 class="ms-4 mb-5">Crear Recepcion</h2>

    </div>

    @using (Html.BeginForm("Crear", "Recepcion", FormMethod.Post, new { id = "frmRecepcion" }))
    {
        @Html.AntiForgeryToken()


        <div class="row mt-5">

            <div class="col-2"></div>


            <div class="col-8">

                <div class="row mb-5">


                    <div class="col-6">

                        <div class="row mx-1">
                            <label for="colFormLabel" class="col-12 col-form-label col-form-label fs-6">Descripcion *</label>
                        </div>
                        <div class="row mx-1">
                            <div class="col-12"> </div>
                            @Html.TextAreaFor(model => model.DescripcionEncabezadoRecepcion, new
                           {
                              @class = "form-control",
                                @type = "text",
                                @id = "descripcion",
                                @rows = "5"
                           })

                        </div>
                    </div>

                    <div class="col-5 offset-1">

                        <div class="row mx-1">
                            <label for="colFormLabel" class="col-12 col-form-label col-form-label fs-6">Fecha Inicio *</label>
                        </div>
                        <div class="row mx-1">

                            <input readonly type="date" id="fechaIngreso" class="form-control" value="@DateTime.Now.ToString("yyyy-MM-dd")" name="FechaIngreso" /> @*@DateTime.Now.ToString("yyyy-MM-dd")*@
                            <input readonly type="hidden" id="fechaIngresoEscondido" class="form-control" value="@DateTime.Now.ToString("HH:mm")" name="FechaIngreso" /> @*@DateTime.Now.ToString("yyyy-MM-dd")*@
                        </div>

                        <div class="row mx-1 mt-3">
                            <label for="colFormLabel" class="col-12 col-form-label col-form-label fs-6">Fecha Vencimiento *</label>
                        </div>
                        <div class="row mx-1">

                            @Html.EditorFor(model => model.fechaVencimiento, new
                            {
                                htmlAttributes = new
                                {
                                    @class =
                                    "form-control",
                                    @type = "date",
                                    @id = "fechaVencimiento"

                                }
                            })

                        </div>
                    </div>
                </div>

                <div class="row mb-5">

                    <div class="row mx-1">
                        <div class="col-6 offset-4">
                            Usuario Responsable*
                        </div>
                    </div>
                    <div class="row mx-1 mt-2">

                        <div class="col-5 offset-3">
                            <select class="form-select" id="idUsuarios" name="ID_Usuario">
                                <option value="">Escoger...</option>

                            </select>
                        </div>

                    </div>
                </div>

                <div class="row mb-5">
                    <div class="col-6">
                        <div class="row mx-1">
                            <div class="col-11 offset-1">
                                Proveedor*
                            </div>
                        </div>
                        <div class="row mx-1 mt-2">

                            <div class="col-12">
                                <select class="form-select" id="idProveedores" name="ID_Proveedor">
                                    <option value="">Escoger...</option>

                                </select>
                            </div>

                        </div>

                    </div>

                    <div class="col-6">
                        <div class="row mx-1">
                            <div class="col-11 offset-1">
                                Tipo Producto*
                            </div>
                        </div>
                        <div class="row mx-1 mt-2">

                            <div class="col-12">
                                <select class="form-select" id="idTiposProducto" name="ID_TipoProducto">
                                    <option value="">Escoger...</option>

                                </select>
                            </div>

                        </div>

                    </div>
                </div>


                <div class="row mb-5">
                    <div class="col-6">
                        <div class="row mx-1">
                            <div class="col-11 offset-1">
                                Bodega*
                            </div>
                        </div>
                        <div class="row mx-1 mt-2">

                            <div class="col-12">
                                <select disabled class="form-select" id="idBodegas" name="ID_Bodega">
                                    <option value="-1"></option>

                                </select>
                                <input type="hidden" name="ID_Bodega" id="ID_Bodega" value="" />
                            </div>

                        </div>

                    </div>

                    <div class="col-6">
                        <div class="row mx-1">
                            <div class="col-11 offset-1">
                                Parametro*
                            </div>
                        </div>
                        <div class="row mx-1 mt-2">

                            <div class="col-12">
                                <select disabled class="form-select" id="idParametros" name="ID_Parametro">
                                    <option value=""></option>

                                </select>
                                <input type="hidden" name="ID_Parametro" id="ID_Parametro" value="" />
                            </div>

                        </div>

                    </div>
                </div>

                <div class="row mb-5">

                    <div class="row my-3">
                        <div class="col-4 ">
                            Productos a Recepcionar*
                        </div>
                        <div class="col-1">
                            <a class="btn btn-outline-success btn-sm" id="btnAgregar">
                                <svg xmlns="http://www.w3.org/2000/svg" width="1.5rem" height="1.5rem" fill="currentColor"
                                     class="bi bi-plus" viewBox="0 0 16 16">
                                    <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z" />
                                </svg>

                            </a>
                        </div>
                        <div class="col-6"></div>
                            <div class="col-1">
                                <a class="btn btn-outline-primary btn-sm" id="btnLimpiar">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="1.5rem" height="1.5rem" fill="currentColor" class="bi bi-eraser-fill" viewBox="0 0 16 16">
                                        <path d="M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828l6.879-6.879zm.66 11.34L3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293l.16-.16z" />
                                    </svg>

                                </a>
                            </div>

                        </div>
                        <div class="row mx-1 mt-4">

                            <div class="col-12 overflow-auto">

                                <table id="tRecepcion" class="table table-striped">

                                    <thead>
                                        <tr>
                                            <th>
                                                ID
                                            </th>
                                            <th>
                                                Descripcion
                                            </th>
                                            <th>
                                                Fecha Alta
                                            </th>
                                            <th title="Diferencia Meses de Vencimiento">
                                                Diferencia M.V
                                            </th>
                                            <th>
                                                Cubicaje
                                            </th>
                                            <th>
                                                Empaque
                                            <th>
                                                Costo Bruto
                                            </th>
                                            <th>
                                                Descuento
                                            </th>
                                            <th>
                                                IVA
                                            </th>
                                            <th>
                                                Costo Neto
                                            </th>
                                            <th>
                                                Rack
                                            </th>
                                            <th>
                                                Tipo Producto
                                            </th>
                                            <th>
                                                Proveedor
                                            </th>
                                            <th>
                                                Unidad Medida
                                            </th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                    </tbody>
                                </table>

                            </div>

                        </div>


                    </div>

                <div class="row pt-3">
                    <div class="offset-md-3 col-md-4">
                        <div class="d-grid gap-2">
                            <button id="btnEnviar" type="submit" value="Crear" class="btn btn-success">Crear</button>
                        </div>
                    </div>

                </div>

                <div class="col-2"></div>

            </div>

            <div class="col-2"></div>

        </div>
    }


</div>


<!-- Toast -->

<div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
    <div id="liveToastCrear" class="toast fade hide" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="toast-header">

            <svg class="bd-placeholder-img rounded me-2" width="20" height="20" xmlns="http://www.w3.org/2000/svg"
                 aria-hidden="true" preserveAspectRatio="xMidYMid slice" focusable="false">
                <rect width="100%" height="100%" fill="#007aff"></rect>
            </svg>

            <strong class="me-auto">Del sistema</strong>
            <small>Hace 3 seg</small>
            <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close" onclick="CerrarToast()"></button>
        </div>
        <div id="toast-bodyCrearUM" class="toast-body">

        </div>
    </div>
</div>

<!--Offcanva-->

<div class="offcanvas offcanvas-top" data-bs-scroll="true" data-bs-backdrop="false" tabindex="-1" id="offcanvasScrolling" aria-labelledby="offcanvasScrollingLabel" style="height: 20rem">
    <div class="offcanvas-header">
        <h5 id="offcanvasTopLabel">Productos</h5>
        <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">

        <table id="tablaProductos" class="table table-hover table-hover">

            <thead>
                <tr>
                    <th>
                        ID
                    </th>
                    <th>
                        Descripcion
                    </th>
                    <th>
                        Fecha Alta
                    </th>
                    <th title="Diferencia Meses de Vencimiento">
                        Diferencia M.V
                    </th>
                    <th>
                        Cubicaje
                    </th>
                    <th>
                        Empaque
                    <th>
                        Costo Bruto
                    </th>
                    <th>
                        Descuento
                    </th>
                    <th>
                        IVA
                    </th>
                    <th>
                        Costo Neto
                    </th>
                    <th>
                        Rack
                    </th>
                    <th>
                        Tipo Producto
                    </th>
                    <th>
                        Proveedor
                    </th>
                    <th>
                        Unidad Medida
                    </th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
            </tbody>
        </table>


    </div>
</div>

@section Scripts {
    <script>


    </script>
    <script type="text/JavaScript" src="https://momentjs.com/downloads/moment.js"></script>
}

