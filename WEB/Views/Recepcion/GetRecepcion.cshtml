@model ET.TodoRecepcionDTO
@{
    ViewBag.Title = "GetRecepcion";
    Layout = "~/Views/Shared/_Layout.cshtml";

    //string dateNow = DateTime.Now.ToString("yyyy-MM-dd");
}


<div class="row bg-light p-3 mt-auto align-items-center text-center">
    <div class="row bg-light p-3 mt-auto align-items-center text-center">
        <div class="col-md-2">
            <a href="@Url.Action("Crear", "Recepcion")" class="btn btn-success">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                     class="bi bi-plus" viewBox="0 0 16 16">
                    <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z" />
                </svg>
                Crear
            </a>
        </div>
        <div class="col-md-2">
            <a href=" @Url.Action("Index", "Recepcion") " class="btn btn-light">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                     class="bi bi-file-earmark-plus" viewBox="0 0 16 16">
                    <path d="M8 6.5a.5.5 0 0 1 .5.5v1.5H10a.5.5 0 0 1 0 1H8.5V11a.5.5 0 0 1-1 0V9.5H6a.5.5 0 0 1 0-1h1.5V7a.5.5 0 0 1 .5-.5z" />
                    <path d="M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z" />
                </svg>
                Lista
            </a>
        </div>

        <div class="col-md-2">
            <button class="btn btn-light" data-bs-toggle="modal" data-bs-target="#staticBackdrop" onclick="llenarDatosModal(@Model.encabezado_Recepcion.ID_EncabezadoRecepcion, '@Model.encabezado_Recepcion.DescripcionEncabezadoRecepcion', 'EliminarRecepcion')">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                     class="bi bi-x" viewBox="0 0 16 16">
                    <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z" />
                </svg>
                Eliminar
            </button>
        </div>

        <div class="col-md-2 col-md-offset-2">
            <button type="button" class="btn btn-danger">Cerrar Sesion</button>
        </div>
    </div>
</div>

<div class="row p-3">

    <div class="row">

        <h2 class="ms-4 mb-5">Detalles Recepcion</h2>

    </div>




    <div class="row mt-5">

        <div class="col-2"></div>


        <div class="col-8">

            <div class="row mb-5">


                <div class="col-6">

                    <div class="row mx-1">
                        <label for="colFormLabel" class="col-12 col-form-label col-form-label fs-6">Descripcion </label>
                    </div>
                    <div class="row mx-1">
                        <div class="col-12"> </div>
                        @Html.TextAreaFor(model => model.encabezado_Recepcion.DescripcionEncabezadoRecepcion, new
                       {
                          @class = "form-control",
                            @type = "text",
                            @id = "descripcion",
                            @rows = "5"
                       })

                    </div>
                </div>

                <div class="col-5 offset-1">

                    <div class="row mx-1">
                        <label for="colFormLabel" class="col-12 col-form-label col-form-label fs-6">Fecha Inicio </label>
                    </div>
                    <div class="row mx-1">

                        <select disabled class="form-control">

                            <option>
                                @Html.DisplayFor(model => model.encabezado_Recepcion.FechaIngreso)

                            </option>
                        </select>
                    </div>

                    <div class="row mx-1 mt-3">
                        Fecha Vencimiento
                    </div>
                    <div class="row mx-1">
                        <select disabled class="form-control">

                            <option>
                                @Html.DisplayFor(model => model.encabezado_Recepcion.fechaVencimiento)

                            </option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="row mb-5">

                <div class="row mx-1">
                    <div class="col-6 offset-4">
                        Usuario Responsable
                    </div>
                </div>
                <div class="row mx-1 mt-2">

                    <div class="col-5 offset-3">
                        <select disabled class="form-control">

                            <option>
                                @Html.DisplayFor(model => model.encabezado_Recepcion.NombreUsuario)

                            </option>
                        </select>

                    </div>

                </div>
            </div>

            <div class="row mb-5">
                <div class="col-6">
                    <div class="row mx-1">
                        <div class="col-11 offset-1">
                            Proveedor
                        </div>
                    </div>
                    <div class="row mx-1 mt-2">

                        <div class="col-12">
                            <select disabled class="form-control">

                                <option>
                                    @Html.DisplayFor(model => model.encabezado_Recepcion.DescripcionProveedor)

                                </option>
                            </select>

                        </div>

                    </div>

                </div>

                <div class="col-6">
                    <div class="row mx-1">
                        <div class="col-11 offset-1">
                            Tipo Producto
                        </div>
                    </div>
                    <div class="row mx-1 mt-2">

                        <div class="col-12">
                            <select disabled class="form-control">

                                <option>
                                    @Html.DisplayFor(model => model.encabezado_Recepcion.DescripcionTipoProducto)

                                </option>
                            </select>
                        </div>

                    </div>

                </div>
            </div>


            <div class="row mb-5">
                <div class="col-6">
                    <div class="row mx-1">
                        <div class="col-11 offset-1">
                            Bodega
                        </div>
                    </div>
                    <div class="row mx-1 mt-2">

                        <div class="col-12">
                            <select disabled class="form-control">

                                <option>
                                    @Html.DisplayFor(model => model.encabezado_Recepcion.DescripcionBodega)

                                </option>
                            </select>

                        </div>

                    </div>

                </div>

                <div class="col-6">
                    <div class="row mx-1">
                        <div class="col-11 offset-1">
                            Parametro
                        </div>
                    </div>
                    <div class="row mx-1 mt-2">

                        <div class="col-12">
                            <select disabled class="form-control">

                                <option>
                                    @Html.DisplayFor(model => model.encabezado_Recepcion.DescripcionParametro)

                                </option>
                            </select>

                        </div>

                    </div>

                </div>
            </div>

            <div class="row mb-5">

                <div class="row my-3">
                    <div class="col-4 ">
                        Productos a Recepcionar
                    </div>

                </div>
                <div class="row mx-1 mt-4">

                    <div class="col-12 overflow-auto">

                        <table id="tRecepcion" class="table table-striped">

                            <thead>
                                <tr>
                                    <th>
                                        ID
                                    </th>
                                    <th>
                                        Descripcion
                                    </th>
                                    <th>
                                        Fecha Alta
                                    </th>
                                    <th title="Diferencia Meses de Vencimiento">
                                        Diferencia M.V
                                    </th>
                                    <th>
                                        Cubicaje
                                    </th>
                                    <th>
                                        Empaque
                                    <th>
                                        Costo Bruto
                                    </th>
                                    <th>
                                        Descuento
                                    </th>
                                    <th>
                                        IVA
                                    </th>
                                    <th>
                                        Costo Neto
                                    </th>
                                    <th>
                                        Rack
                                    </th>
                                    <th>
                                        Tipo Producto
                                    </th>
                                    <th>
                                        Proveedor
                                    </th>
                                    <th>
                                        Unidad Medida
                                    </th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var item in Model.listaProductos)
                                {

                                    <tr>

                                        <td>  @Html.DisplayFor(modelItem => item.ID_Producto)</td>
                                        <td>  @Html.DisplayFor(modelItem => item.DescripcionProducto)</td>
                                        <td>  @Html.DisplayFor(modelItem => item.Fecha_Alta)</td>
                                        <td>  @Html.DisplayFor(modelItem => item.DiferenciaMesesVencimiento)</td>
                                        <td>  @Html.DisplayFor(modelItem => item.Cubicaje)</td>
                                        <td>  @Html.DisplayFor(modelItem => item.Empaque)</td>
                                        <td>  @Html.DisplayFor(modelItem => item.CostoBruto)</td>
                                        <td>  @Html.DisplayFor(modelItem => item.Descuento)</td>
                                        <td>  @Html.DisplayFor(modelItem => item.IVA)</td>
                                        <td>  @Html.DisplayFor(modelItem => item.CostoNeto)</td>
                                        <td>  @Html.DisplayFor(modelItem => item.DescripcionRack)</td>
                                        <td>  @Html.DisplayFor(modelItem => item.DescripcionTipoProducto)</td>
                                        <td>  @Html.DisplayFor(modelItem => item.DescripcionProveedor)</td>
                                        <td>  @Html.DisplayFor(modelItem => item.DescripcionUnidadMedida)</td>
                                    </tr>
                                }
                            </tbody>
                        </table>

                    </div>

                </div>


            </div>

            <div class="col-2"></div>

        </div>

        <div class="col-2"></div>

    </div>



</div>


<!-- Modal -->
<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="staticBackdropLabel">Eliminar Recepcion  </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" onclick="VaciarModelo()"></button>
            </div>
            <div class="modal-body">

            </div>
            <div class="modal-footer">


            </div>
        </div>
    </div>
</div>
<!-- Toast -->

<div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
    <div id="liveToastCrear" class="toast fade hide" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="toast-header">

            <svg class="bd-placeholder-img rounded me-2" width="20" height="20" xmlns="http://www.w3.org/2000/svg"
                 aria-hidden="true" preserveAspectRatio="xMidYMid slice" focusable="false">
                <rect width="100%" height="100%" fill="#007aff"></rect>
            </svg>

            <strong class="me-auto">Del sistema</strong>
            <small>Hace 3 seg</small>
            <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close" onclick="CerrarToast()"></button>
        </div>
        <div id="toast-bodyCrearUM" class="toast-body">

        </div>
    </div>
</div>
@section Scripts {
    <script>


    </script>
    <script type="text/JavaScript" src="https://momentjs.com/downloads/moment.js"></script>
}

